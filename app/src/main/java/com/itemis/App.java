/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.itemis;

import java.io.PrintStream;
import java.util.Scanner;

public class App {

    public static void main(String[] args) {
        GalacticRomanRepository galacticRomanRepository = new GalacticRomanRepository();
        GalacticToRomanExpressionMapper galacticToRomanExpressionMapper = new GalacticToRomanExpressionMapper(
                galacticRomanRepository);


        MetalCreditsRepository metalCreditsRepository = new MetalCreditsRepository(
                new RomanToCreditsCalculator(),
                galacticToRomanExpressionMapper);

        MetalToCreditsCalculator metalToCreditsCalculator = new MetalToCreditsCalculator(
                new RomanToCreditsCalculator(),
                galacticToRomanExpressionMapper, metalCreditsRepository);

        GalacticToCreditsCalculator galacticToCreditsCalculator = new GalacticToCreditsCalculator(
                galacticToRomanExpressionMapper,
                new RomanToCreditsCalculator());

        AnswersRepository answersRepository = new AnswersRepository();


        ResultDisplayer resultDisplayer = new ResultDisplayer(answersRepository);

        InvalidQueryHandler invalidQueryHandler = new InvalidQueryHandler(answersRepository);

        MetalService metalService = new MetalService(metalCreditsRepository,
                galacticRomanRepository,
                galacticToRomanExpressionMapper,
                new RomanToCreditsCalculator(),
                answersRepository);

        GalacticService galacticService = new GalacticService(galacticRomanRepository,
                new RomanToCreditsCalculator(),
                galacticToRomanExpressionMapper,
                answersRepository);

        UserInputHandler userInputHandler = new UserInputHandler(
                galacticRomanRepository,
                invalidQueryHandler,
                metalService,
                galacticService);

        UserInputReader userInputReader = new UserInputReader(
                new Scanner(System.in),
                userInputHandler,
                resultDisplayer,
                new PrintStream(System.out));

        userInputReader.readUserInput();

    }
}
